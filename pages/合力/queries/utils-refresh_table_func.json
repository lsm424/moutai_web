{
  "pluginType": "JS",
  "pluginId": "js-plugin",
  "unpublishedAction": {
    "name": "refresh_table_func",
    "fullyQualifiedName": "utils.refresh_table_func",
    "datasource": {
      "name": "UNUSED_DATASOURCE",
      "pluginId": "js-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "合力",
    "collectionId": "合力_utils",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "async (pos) => {\n\t\t// 计算总量total\n\t\tawait get_account_count_api.run()\n\t\tvar ret = get_account_count_api.data\n\t\tif (ret.code != 0) {\n\t\t\tawait showAlert(ret.message)\n\t\t\treturn [1, 1]\n\t\t}\n\t\tconst total_text = parseInt(ret.data / 10) + 1\n\t\tstoreValue('total_page_text', total_text)\n\t\tresetWidget(\"total_page_text\")\n\n\t\t// 计算当前页\n\t\tvar cur_page_text;\n\t\tif (pos == undefined || appsmith.store.cur_page_text == undefined) {\n\t\t\tcur_page_text = 1;\n\t\t} else {\n\t\t\tcur_page_text = appsmith.store.cur_page_text + pos;\n\t\t\tif (cur_page_text < 1) {\n\t\t\t\tcur_page_text = 1;\n\t\t\t} else if (cur_page_text >= total_text) {\n\t\t\t\tcur_page_text = total_text\n\t\t\t}\n\t\t}\n\t\tstoreValue(\"cur_page_text\", cur_page_text)\n\t\tresetWidget(\"cur_page_text\")\n\t\t// 获取数据\n\t\treturn [cur_page_text, total_text]\n\t\t\n\t}",
      "jsArguments": [
        {
          "name": "pos"
        }
      ],
      "isAsync": true
    },
    "executeOnLoad": false,
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [
      "async (pos) => {\n\t\t// 计算总量total\n\t\tawait get_account_count_api.run()\n\t\tvar ret = get_account_count_api.data\n\t\tif (ret.code != 0) {\n\t\t\tawait showAlert(ret.message)\n\t\t\treturn [1, 1]\n\t\t}\n\t\tconst total_text = parseInt(ret.data / 10) + 1\n\t\tstoreValue('total_page_text', total_text)\n\t\tresetWidget(\"total_page_text\")\n\n\t\t// 计算当前页\n\t\tvar cur_page_text;\n\t\tif (pos == undefined || appsmith.store.cur_page_text == undefined) {\n\t\t\tcur_page_text = 1;\n\t\t} else {\n\t\t\tcur_page_text = appsmith.store.cur_page_text + pos;\n\t\t\tif (cur_page_text < 1) {\n\t\t\t\tcur_page_text = 1;\n\t\t\t} else if (cur_page_text >= total_text) {\n\t\t\t\tcur_page_text = total_text\n\t\t\t}\n\t\t}\n\t\tstoreValue(\"cur_page_text\", cur_page_text)\n\t\tresetWidget(\"cur_page_text\")\n\t\t// 获取数据\n\t\treturn [cur_page_text, total_text]\n\t\t\n\t}"
    ],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "合力_utils.refresh_table_func",
  "deleted": false,
  "gitSyncId": "627081b4983fa859f48e8e8d_6272021a983fa859f48e8eaa"
}